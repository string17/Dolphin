@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    IEnumerable<DolphinContext.Data.Models.DolRegion> Model_Reg = ViewBag.region;
    IEnumerable<DolphinContext.Data.Models.DolState> Model_State = ViewBag.state;
    IEnumerable<DolphinContext.Data.Models.DolUser> Model_engineer = ViewBag.engineer;
    IEnumerable<DolphinContext.Data.Models.DolBrand> Model_Brand = ViewBag.Brand;
    IEnumerable<DolphinContext.Data.Models.DolCompany> Model_custom = ViewBag.custom;
}

@{if (!String.IsNullOrEmpty(ViewBag.ErrorMsg))
            {
        <div id="ErrorBox" style="margin:auto">
            <div class="alert alert-dismissable alert-danger" style="margin-top:10px;">
                <i class="fa fa-fw fa-times"></i>&nbsp; <strong></strong> @ViewBag.ErrorMsg
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            </div>
        </div>
    }

    else if (!String.IsNullOrEmpty(ViewBag.SuccessMsg))
    {
        <div id="ErrorBox" style="margin:auto">
            <div class="alert alert-dismissable alert-success" style="margin-top:10px;">
                <i class="fa fa-fw fa-check"></i>&nbsp; <strong></strong> @ViewBag.SuccessMsg
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            </div>
        </div>
    }

}

<form class="form-horizontal row-border" id="validate-form" data-parsley-validate method="post" action="/dolphin/create_terminal">
    <div class="col-md-12">
        <div class="col-md-6">

            <div class="form-group">
                <label class="col-sm-3 control-label">Customer</label>
                <div class="col-sm-6">
                    <select class="form-control" id="source" name="CustomerId" required>
                        <option value="">Select Customer</option>
                        @foreach (var n in Model_custom)
                        {
                            <option value="@n.CustomerId">@n.CustomerName</option>
                        }
                    </select>
                </div>
            </div>

            
            
            <div class="form-group">
                <label class="col-sm-3 control-label">Serial Number</label>
                <div class="col-sm-6">
                    <input type="text" placeholder="Serial Number" name="TSNum" required class="form-control">
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Brand</label>
                <div class="col-sm-6">
                    <select class="form-control" id="source" name="BrandId" required>
                        <option value="">Select Brand</option>
                        @foreach (var n in Model_Brand)
                        {
                            <option value="@n.BrandName">@n.BrandName</option>
                        }
                    </select>
                </div>
            </div>

           

            <div class="form-group">
                <label class="col-sm-3 control-label">Region</label>
                <div class="col-sm-6">
                    <select class="form-control" id="source" name="RegId" required>
                        <option value="">Select Region</option>
                        @foreach (var n in Model_Reg)
                        {
                            <option value="@n.RegionName">@n.RegionName</option>
                        }
                    </select>
                </div>
            </div>

           

            <div class="form-group">
                <label class="col-sm-3 control-label">Reference</label>
                <div class="col-sm-6">
                    <input type="text" placeholder="Reference" name="TerminalRef" required class="form-control">
                </div>
            </div>

            @*<div class="form-group">
                <label class="col-sm-2 control-label">Autogrow Textarea</label>
                <div class="col-sm-8">
                    <textarea class="form-control autosize"></textarea>
                </div>
                <div class="col-sm-2"><p class="help-block">Textbox auto grows as you type!</p></div>
            </div>*@


        </div>

        <div class="col-md-6">

            <div class="form-group">
                <label class="col-sm-3 control-label">Terminal ID</label>
                <div class="col-sm-6">
                    <input type="text" placeholder="Terminal ID" required class="form-control" name="TerminalId">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Location Alias</label>
                <div class="col-sm-6">
                    <input type="text" placeholder="Location Alias" required class="form-control" name="TAlias">
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">State</label>
                <div class="col-sm-6">
                    <select class="form-control" id="source" name="StateName" required>
                        <option value="">Select State</option>
                        @foreach (var n in Model_State)
                        {
                            <option value="@n.StateName">@n.StateName</option>
                        }
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Engineer</label>
                <div class="col-sm-6">
                    <select class="form-control" id="source" name="TEng" required>
                        <option value="">Select Engineer</option>
                        @foreach (var n in Model_engineer)
                        {
                            <option value="@n.UserName">@n.FirstName&nbsp;@n.OtherNames</option>
                        }
                    </select>
                </div>
            </div>

            @*<div class="form-group">
                <label class="col-sm-3 control-label">Location</label>
                <div class="col-sm-6">
                    <input type="text" placeholder="Location" name="TLocation" required class="form-control">
                </div>
            </div>*@

            <div class="form-group">
                <label class="col-sm-3 control-label">Location</label>
                <div class="col-sm-6">
                    <textarea class="form-control autosize" name="TLocation" placeholder="Location"></textarea>
                </div>
                <div class="col-sm-3"></div>
            </div>

            <div class="col-lg-9" style="margin-top:25px">
                <div class="btn-toolbar">
                    <button class="btn btn-warning pull-left" type="reset">Cancel</button>
                    <button class="btn btn-primary pull-right" type="submit">Create</button>

                </div>
            </div>
        </div>
    </div>



</form>
  



<script>
// See Docs
	window.ParsleyConfig = {
    	  successClass: 'has-success'
		, errorClass: 'has-error'
		, errorElem: '<span></span>'
		, errorsWrapper: '<span class="help-block"></span>'
		, errorTemplate: "<div></div>"
		, classHandler: function(el) {
    		return el.$element.closest(".form-group");
		}
	};
</script>
